{"version":3,"sources":["Components/common-popup/common-popup-component.js","Components/side-bar/side-bar-component.js","constants/Constants.js","constants/apiConstants.js","services/api.js","actions/directMessageActions.js","actions/groupMessageActions.js","actions/sideBaraction.js","Containers/side-bar-container.js","Components/message-area/details-bar/details-bar-componet.js","Components/message-area/message-content/message-content-component.js","Components/message-area/message-area-component.js","Containers/message-area-container.js","Containers/index.js","App.js","Components/authentication/authentication-component.js","Containers/login-container.js","actions/loginAction.js","reducers/Reducer.js","sagas/commonsaga.js","index.js","store/configureStore.js","Utils/user-1.png"],"names":["CommonPopUpComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateInput","events","type","setState","newgroupName","target","value","getUser","userSuggestions","createGroup","close","groupName","state","members","chipValue","sendInvite","userId","toUser","pushUser","user","popupType","concat","Number","user_id","userInput","generateAutoSuggest","length","react_default","a","createElement","className","map","onClick","user_name","inviteMembers","addUser","clearVal","generateGroupElements","onChange","focus","chip","class","ref","node","generateAddMembersElements","generateGroupInviteElement","userSearchInfocus","newProps","_this2","reactjs_popup_es","trigger","modal","backdrop","React","Component","SideBarComponent","setCurrentSelected","item","itemHeader","currentSelected","group_id","getConversationHistory","groupDetails","userDetails","checkIfUserExistInScreen","directMessage","forEach","im","getUnreadMessage","itemType","unreadMessage","generateListItems","itemList","checkSelected","common_popup_component_CommonPopUpComponent","group_name","groups","threads","console","log","userName","ACTIONS","GET_INITIAL_DATA","GET_INITIAL_DATA_SUCESS","GET_INDIVIDUAL_CONVERSATION_HISTORY","GET_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS","SEND_INDIVIDUAL_MESSAGE","SET_CURRENT_MODE_DETAILS","SET_CURRENT_USER","SEND_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS","GET_GROUP_CONVERSATION_HISTORY","GET_GROUP_CONVERSATION_HISTORY_SUCCESS","CREATE_GROUP","CREATE_GROUP_SUCCESS","SEND_GROUP_MESSAGE","CREATE_IM","CREATE_IM_SUCESS","SEARCH_USER","SEARCH_USER_SUCESS","GET_CHANNEL_DETAILS","GET_CHANNEL_DETAILS_SUCESS","UPDATE_UNREAD_DETAILS","PUSH_MESSAGE","UPDATE_GROUP","SEND_THREAD_MESSAGE","SEND_THREAD_MESSAGE_SUCESS","GET_THREAD_CONVERSATION_HISTORY","GET_THREAD_CONVERSATION_HISTORY_SUCESS","APICONSTANTS","GET_INITIAL_DETAILS","endPoint","method","containsParams","GET_INDIVIDUAL_CONVERSATION","GET_GROUP_CONVERSATION","triggerApi","apiData","requestData","axios","get","request","href","then","res","data","post","payload","constructUrl","inputParams","apiName","apiUrl","URL","params","keys","key","index","searchParams","append","getIndividualConversationHistorySucess","individualConversationSentSuccess","createImSucess","sendThreadMessagesSuccess","getThreadsHistroySuccess","createGroupSucess","initialActionSucess","searchUser","serviceParams","searchUserSucess","getChannelDetailSuccess","SideBarContainer","listenMessageVal","conn","on","msgDetails","fromUser","selectedMode","selectedId","id","dispatch","mode","pushMessage","createInitialConnection","currentUserId","group","connectedSockets","includes","push","connect","nameSpaceID","io","listenVal","created_by","connectUser","getChannelDetails","getGroupConversationHistory","getIndividualConversationHistory","groupPayload","time","parseInt","Date","getTime","toFixed","createdBy","searchString","inviteDetails","imPayload","sendImInvite","socket","side_bar_component_SideBarComponent","DetailsBarComponent","channelDetails","placeholder","MessageContentComponent","createThread","message","openThreadWindow","generateMessageContent","messages","lastDate","currentMessageDate","toLocaleDateString","displayDate","src","displayImage","toLocaleTimeString","isTread","threads_count","conversations","MessageAreaComponent","sendMessage","event","getThreadsHistroy","messageWindowWidth","threadDetails","sendThreadMessage","details_bar_componet_DetailsBarComponent","style","width","message_content_component_MessageContentComponent","onKeyDown","MessageAreaContainer","thread","chat_id","chat_type","users_id","sendGroupMessage","sendIndividualMessage","emit","updateGroup","payloadData","message_area_component_MessageAreaComponent","WrapperContainer","initialAction","side_bar_container","message_area_container","App","src_Containers","AuthenticationComponent","storeUserId","login","AuthemnticationContainer","checkLogin","history","authentication_component_AuthenticationComponent","withRouter","intialState","Reducer","arguments","undefined","action","responseData","assign","im_users","clearUnreadMessageId","stateUnreadMessage","unreadMessageId","fetchInitialUserDetails","fetchConversationHistory","sendIMMessage","createNewGroup","createNewIm","searchUserFromDB","getChannelDetail","updateGroupMembers","sendThreadMessages","getThreadHistoryData","getInitialUserDetails","getDirectMessageConversationSaga","getGroupMessageConversationSaga","createIm","getThreadHistory","initialDetailsSaga","resultData","regenerator_default","wrap","_context2","prev","next","sent","put","t0","stop","_marked2","_resultData","_context3","_marked3","_resultData2","_context4","_marked4","_resultData3","_context5","_marked5","_resultData4","_context6","_marked6","_resultData5","_context7","_marked7","_resultData6","_context8","_marked8","_context9","_marked9","_resultData8","_context10","_marked10","_resultData9","_context11","_marked11","_context12","takeLatest","_marked12","_context13","_marked13","_context14","_marked14","_context15","_marked15","_context16","_marked16","_context17","_marked17","_context18","_marked18","_context19","_marked19","_context20","_marked20","_context21","_marked21","_context22","_marked22","_context23","_marked23","_context24","fork","_marked24","store","sagaMiddleware","createSagaMiddleware","createStore","reducer","applyMiddleware","run","mySaga","configureStore","routing","es","react_router_dom","react_router","exact","path","component","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.6ec80f62.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport './common-popup-component.scss';\r\nimport Popup from \"reactjs-popup\";\r\n\r\nexport default class CommonPopUpComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            popupType: this.props.popupType,\r\n            newgroupName: '',\r\n            members: [],\r\n            chipValue: [],\r\n            userSuggestions: [],\r\n            userSearchInfocus: false,\r\n            groupName: null\r\n        }\r\n        this.userInput = '';\r\n        this.close = '';\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.popupType !== this.props.popupType) {\r\n            this.setState({ popupType: newProps.popupType });\r\n        }\r\n        if(newProps.groupName && newProps.groupName !== this.props.groupName) {\r\n            this.setState({groupName: newProps.groupName})\r\n        }\r\n        if (newProps.userSuggestions !== this.props.userSuggestions) {\r\n            this.setState({ userSuggestions: newProps.userSuggestions });\r\n        }\r\n        // if(newProps.addUser && newProps.addUser !== this.props.addUser){\r\n        //     this.setState({addUser: newProps.addUser});\r\n        // }\r\n    }\r\n\r\n    updateInput = (events, type) => {\r\n        if (type === 'newgroupName') {\r\n            this.setState({ newgroupName: events.target.value })\r\n        }\r\n        else {\r\n            if (events.target.value !== '') {\r\n                this.props.getUser(events.target.value);\r\n            } else {\r\n                this.setState({ userSuggestions: [] })\r\n            }\r\n        }\r\n    }\r\n\r\n    createGroup = (close) => {\r\n        this.props.createGroup({ groupName: this.state.newgroupName, members: this.state.members });\r\n        this.setState({chipValue: [], userSuggestions: []})\r\n        close();\r\n    }\r\n    sendInvite = (userId) => {\r\n        this.props.sendInvite({ toUser: userId ? userId : this.state.members });\r\n        this.setState({chipValue: [], userSuggestions: []})\r\n        this.close();\r\n    }\r\n\r\n    pushUser = (user) => {\r\n        if (this.state.popupType === 'Groups' || this.state.groupName) {\r\n            this.setState({ members: this.state.members.concat(Number(user.user_id)), chipValue: this.state.chipValue.concat(user), userSuggestions: [] });\r\n            this.userInput.value = '';\r\n        } else {\r\n            this.sendInvite(user.user_id);\r\n        }\r\n    }\r\n\r\n    generateAutoSuggest = () => {\r\n        if (this.state.userSuggestions && this.state.userSuggestions.length > 0) {\r\n            return <div className=\"auto-suggestions\">\r\n                {\r\n                    this.state.userSuggestions.map(user => {\r\n                        return <div className=\"suggestion\" onClick={() => this.pushUser(user)}>\r\n                            <span >{user.user_name}</span>\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n        }\r\n\r\n    }\r\n    inviteMembers = (close) => {\r\n        this.props.addUser(this.state.members, this.state.groupName);\r\n        this.clearVal(close);\r\n    }\r\n    clearVal = (close) => {\r\n        this.setState({chipValue: [], userSuggestions: []})\r\n        close();\r\n    }\r\n    generateGroupElements = (close) => {\r\n        return <div className=\"custom-popup-content\">\r\n            <h3>Create Group</h3>\r\n            <p>Groups are where your members communicate. They're best when organized around a topic - #leads for example</p>\r\n            <div className=\"input-holder\">\r\n                <label>Name</label>\r\n                <input onChange={(events) => this.updateInput(events, 'newgroupName')} />\r\n            </div>\r\n            <div className=\"input-holder\">\r\n                <label>Send Invites To</label>\r\n                <div className=\"chips-input\" onClick={() => { this.userInput.focus() }}>\r\n                    {this.state.chipValue.map(chip => <div className=\"chip\">{chip.user_name}<span className=\"chip-close\"><i class=\"fas fa-times\"></i></span></div>)}\r\n                    <input type=\"text\" ref={(node) => this.userInput = node} onChange={(events) => this.updateInput(events, 'members')} />\r\n                </div>\r\n\r\n                {this.generateAutoSuggest()}\r\n            </div>\r\n            <button className=\"btn create\" onClick={() => this.createGroup(close)}>Create Channel</button>\r\n            <button className=\"btn\" onClick={() => this.clearVal(close)}>Cancel</button>\r\n        </div >\r\n    }\r\n    generateAddMembersElements = (close) => {\r\n        this.close = close;\r\n        return <div className=\"custom-popup-content\">\r\n            <h3>Add Member</h3>\r\n            <div className=\"input-holder\">\r\n                <label>Send Invites To</label>\r\n                <input onChange={(events) => this.updateInput(events, 'member')} />\r\n                {this.generateAutoSuggest()}\r\n            </div>\r\n            <button className=\"btn create\" onClick={() => this.sendInvite(null)}>Create Channel</button>\r\n            <button className=\"btn\" onClick={close}>Cancel</button>\r\n        </div>\r\n    }\r\n    generateGroupInviteElement = (close) => {\r\n        return <div className=\"custom-popup-content\">\r\n            <h3>Add Member</h3>\r\n            <div className=\"input-holder\">\r\n                <label>Send Invites To</label>\r\n                <div className=\"chips-input\" onClick={() => { this.userInput.focus() }}>\r\n                    {this.state.chipValue.map(chip => <div className=\"chip\">{chip.user_name}<span className=\"chip-close\"><i class=\"fas fa-times\"></i></span></div>)}\r\n                    <input type=\"text\" ref={(node) => this.userInput = node} onChange={(events) => this.updateInput(events, 'members')} />\r\n                </div>\r\n\r\n                {this.generateAutoSuggest()}\r\n            </div>\r\n            <button className=\"btn create\" onClick={() => this.inviteMembers(close)}>Add Member</button>\r\n            <button className=\"btn\" onClick={() =>this.clearVal(close)}>Cancel</button>\r\n        </div >\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"common-popup\" >\r\n                {this.state.groupName ? <Popup trigger={<i className=\"fas fa-cog\"></i>} modal backdrop=\"static\">\r\n                    {close => (this.generateGroupInviteElement(close))}\r\n                </Popup> : <Popup trigger={<span className=\"add-icon\">+</span>} modal backdrop=\"static\">\r\n                        {close => (this.state.popupType === 'Groups' ? this.generateGroupElements(close) : this.generateAddMembersElements(close))}\r\n                    </Popup>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nCommonPopUpComponent.propTypes = {\r\n    popupType: PropTypes.any,\r\n    createGroup: PropTypes.func,\r\n    sendInvite: PropTypes.func,\r\n    getUser: PropTypes.func,\r\n    userSuggestions: PropTypes.array,\r\n    groupName: PropTypes.any,\r\n    addUser: PropTypes.func\r\n\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport './side-bar-component.scss';\r\nimport CommonPopUpComponent from '../common-popup/common-popup-component';\r\n\r\nexport default class SideBarComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            groups: [],\r\n            directMessage: [],\r\n            threads: [],\r\n            currentSelected: null,\r\n            userSuggestions: [],\r\n            unreadMessage: {}\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        console.log(newProps);\r\n        if (newProps.groups !== this.props.groups || newProps.directMessage !== this.props.directMessage || this.props.threads !== newProps.threads) {\r\n            this.setState({ groups: newProps.groups, directMessage: newProps.directMessage, threads: newProps.threads, userName: newProps.userDetails['user_name'] });\r\n        }\r\n        if (newProps.userSuggestions && newProps.userSuggestions !== this.props.userSuggestions) {\r\n            this.setState({ userSuggestions: newProps.userSuggestions });\r\n        }\r\n        if (newProps.unreadMessage !== this.props.unreadMessage) {\r\n            console.log(newProps.unreadMessage);\r\n            this.setState({ unreadMessage: newProps.unreadMessage });\r\n        }\r\n    }\r\n    setCurrentSelected = (item, itemHeader) => {\r\n        this.setState({ currentSelected: itemHeader === 'Groups' ? 'G' + item.group_id : 'I' + item.user_id });\r\n        this.props.getConversationHistory(itemHeader === 'Groups' ? item.group_id : item.user_id, itemHeader)\r\n    }\r\n    createGroup = (groupDetails) => {\r\n        this.props.createGroup(groupDetails);\r\n    }\r\n    sendInvite = (userDetails) => {\r\n        let checkIfUserExistInScreen = false;\r\n        if (this.props.directMessage) {\r\n            this.props.directMessage.forEach(im => {\r\n                if (im.user_id === userDetails.toUser) {\r\n                    checkIfUserExistInScreen = true;\r\n                }\r\n            });\r\n        }\r\n        if (checkIfUserExistInScreen) {\r\n            this.setCurrentSelected({ user_id: userDetails.toUser }, 'Im');\r\n        } else {\r\n            this.props.sendInvite(userDetails);\r\n        }\r\n    }\r\n\r\n    getUnreadMessage = (item, itemType) => {\r\n        if (itemType === 'Groups' && this.state.unreadMessage['Groups' + item.group_id]) {\r\n            return <span className=\"unread-message\">{this.state.unreadMessage['Groups' + item.group_id]}</span>\r\n        } else if (itemType !== 'Groups' && this.state.unreadMessage['Im' + item.user_id]) {\r\n            return <span className=\"unread-message\">{this.state.unreadMessage['Im' + item.user_id]}</span>\r\n        }\r\n    }\r\n    generateListItems = (itemList, itemHeader) => {\r\n        const checkSelected = function (currentSelected, item) {\r\n            const itemId = itemHeader === 'Groups' ? 'G' + item.group_id : 'I' + item.user_id;\r\n            const returnClass = itemId === currentSelected ? 'list-item-content selected' : 'list-item-content';\r\n            return returnClass;\r\n        }\r\n        return <div className=\"list-item-holder\">\r\n            <div className=\"list-item-header\">{itemHeader}\r\n                <span className=\"add-icon\"><CommonPopUpComponent popupType={itemHeader} createGroup={this.createGroup} sendInvite={this.sendInvite} getUser={this.props.getUser} userSuggestions={this.state.userSuggestions} /></span>\r\n            </div>\r\n            {\r\n                itemList ? itemList.map(item => {\r\n                    return <div className={checkSelected(this.state.currentSelected, item)} onClick={() => this.setCurrentSelected(item, itemHeader)}>{itemHeader === 'Groups' ? '#' : <i class=\"fas fa-circle\"></i>} {itemHeader === 'Groups' ? item.group_name : item.user_name} {this.getUnreadMessage(item, itemHeader)}</div>\r\n                }) : ''\r\n            }\r\n        </div>\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"side-bar-component\" >\r\n                <div className=\"current-user-name\">\r\n                    <span>Chat App</span>\r\n                    <p>{this.state.userName}</p>\r\n                </div>\r\n                {this.generateListItems(this.state.groups, 'Groups')}\r\n                {this.generateListItems(this.state.directMessage, 'Direct Message')}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nSideBarComponent.propTypes = {\r\n    userDetails: PropTypes.any,\r\n    getConversationHistory: PropTypes.func,\r\n    createGroup: PropTypes.func,\r\n    groups: PropTypes.array,\r\n    directMessage: PropTypes.array,\r\n    threads: PropTypes.array,\r\n    sendInvite: PropTypes.func,\r\n    getUser: PropTypes.func,\r\n    userSuggestions: PropTypes.array,\r\n    unreadMessage: PropTypes.any\r\n}","export const ACTIONS = {\r\n    GET_INITIAL_DATA: 'GET_INITIAL_DATA',\r\n    GET_INITIAL_DATA_SUCESS: 'GET_INITIAL_DATA_SUCESS',\r\n    GET_INDIVIDUAL_CONVERSATION_HISTORY: 'GET_INDIVIDUAL_CONVERSATION_HISTORY',\r\n    GET_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS: 'GET_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS',\r\n    SEND_INDIVIDUAL_MESSAGE: 'SEND_INDIVIDUAL_MESSAGE',\r\n    SET_CURRENT_MODE_DETAILS: 'SET_CURRENT_MODE_DETAILS',\r\n    SET_CURRENT_USER: 'SET_CURRENT_USER',\r\n    SEND_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS: 'SEND_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS',\r\n    GET_GROUP_CONVERSATION_HISTORY: 'GET_GROUP_CONVERSATION_HISTORY',\r\n    GET_GROUP_CONVERSATION_HISTORY_SUCCESS: 'GET_GROUP_CONVERSATION_HISTORY_SUCCESS',\r\n    CREATE_GROUP: 'CREATE_GROUP',\r\n    CREATE_GROUP_SUCCESS: 'CREATE_GROUP_SUCCESS',\r\n    SEND_GROUP_MESSAGE: 'SEND_GROUP_MESSAGE',\r\n    CREATE_IM: 'CREATE_IM',\r\n    CREATE_IM_SUCESS: 'CREATE_IM_SUCESS',\r\n    SEARCH_USER: 'SEARCH_USER',\r\n    SEARCH_USER_SUCESS: 'SEARCH_USER_SUCESS',\r\n    GET_CHANNEL_DETAILS: 'GET_CHANNEL_DETAILS',\r\n    GET_CHANNEL_DETAILS_SUCESS: 'GET_CHANNEL_DETAILS_SUCESS',\r\n    UPDATE_UNREAD_DETAILS: 'UPDATE_UNREAD_DETAILS',\r\n    PUSH_MESSAGE: 'PUSH_MESSAGE',\r\n    UPDATE_GROUP: 'UPDATE_GROUP',\r\n    SEND_THREAD_MESSAGE: 'SEND_THREAD_MESSAGE',\r\n    SEND_THREAD_MESSAGE_SUCESS: 'SEND_THREAD_MESSAGE_SUCESS',\r\n    GET_THREAD_CONVERSATION_HISTORY: 'GET_THREAD_CONVERSATION_HISTORY',\r\n    GET_THREAD_CONVERSATION_HISTORY_SUCESS: 'GET_THREAD_CONVERSATION_HISTORY_SUCESS'\r\n}\r\n","export const APICONSTANTS = {\r\n    GET_INITIAL_DETAILS: {\r\n        endPoint: 'getInitialDetails',\r\n        method: 'GET', // GET, POST, DELETE\r\n        containsParams: true\r\n    },\r\n    GET_INDIVIDUAL_CONVERSATION: {\r\n        endPoint: 'getMessageHistoryForUsers',\r\n        method: 'GET', // GET, POST, DELETE\r\n        containsParams: true\r\n    },\r\n    SEND_INDIVIDUAL_MESSAGE: {\r\n        endPoint: 'sendDirectMessage',\r\n        method: 'POST', // GET, POST, DELETE\r\n        containsParams: true\r\n    },\r\n    GET_GROUP_CONVERSATION: {\r\n        endPoint: 'getMessageHistoryForGroup',\r\n        method: 'GET', // GET, POST, DELETE\r\n        containsParams: true\r\n    },\r\n    CREATE_GROUP: {\r\n        endPoint: 'createGroup',\r\n        method: 'POST', // GET, POST, DELETE\r\n        containsParams: true\r\n    },\r\n    SEND_GROUP_MESSAGE: {\r\n        endPoint: 'sendGroupMessage',\r\n        method: 'POST', // GET, POST, DELETE\r\n        containsParams: true\r\n    },\r\n    CREATE_IM: {\r\n        endPoint: 'createIm',\r\n        method: 'POST', // GET, POST, DELETE\r\n        containsParams: true\r\n    },\r\n    SEARCH_USER: {\r\n        endPoint: 'searchUsers',\r\n        method: 'GET', // GET, POST, DELETE\r\n        containsParams: true\r\n    },\r\n    GET_CHANNEL_DETAILS: {\r\n        endPoint: 'getChannelDetails',\r\n        method: 'GET', // GET, POST, DELETE\r\n        containsParams: true\r\n    },\r\n    UPDATE_GROUP: {\r\n        endPoint: 'updateGroup',\r\n        method: 'POST',\r\n        containsParams: true\r\n    },\r\n    SEND_THREAD_MESSAGE: {\r\n        endPoint: 'sendThreadMessage',\r\n        method: 'POST',\r\n        containsParams: true\r\n    },\r\n    GET_THREAD_CONVERSATION_HISTORY: {\r\n        endPoint: 'getThreadMessage',\r\n        method: 'GET',\r\n        containsParams: true\r\n    }\r\n}","import axios from \"axios\";\r\nimport { APICONSTANTS } from '../constants/apiConstants';\r\n\r\nexport function triggerApi(apiData) {\r\n    // const payload = apiData.requestData.request.href;\r\n    switch (apiData.requestData.method) {\r\n        case 'GET':\r\n            return axios.get(apiData.requestData.request.href).then(res => {\r\n                return res.data;\r\n            });\r\n        case 'POST':\r\n            return axios.post(apiData.requestData.request.href, apiData.requestData.payload).then(res => {\r\n                return res.data;\r\n            });\r\n        default:\r\n            return\r\n    }\r\n};\r\n\r\nexport function constructUrl(inputParams) {\r\n    const apiData = APICONSTANTS[inputParams.apiName];\r\n    const serverUrl = 'http://localhost:3001/api/';\r\n    let apiUrl = new URL(serverUrl + apiData.endPoint);\r\n\r\n    if (apiData.containsParams && inputParams.params) {\r\n        Object.keys(inputParams.params).forEach((key, index) => {\r\n            apiUrl.searchParams.append(key, inputParams.params[key])\r\n        });\r\n    }\r\n\r\n    return { method: apiData.method, request: apiUrl, payload: inputParams.payload };\r\n}","\r\nimport { ACTIONS } from '../constants/Constants';\r\nimport { constructUrl } from '../services/api';\r\n\r\nexport function getIndividualConversationHistory(params) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'GET_INDIVIDUAL_CONVERSATION';\r\n    serviceParams.params = params;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.GET_INDIVIDUAL_CONVERSATION_HISTORY,\r\n        requestData\r\n    }\r\n}\r\nexport function sendIndividualMessage(payload) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'SEND_INDIVIDUAL_MESSAGE';\r\n    serviceParams.payload = payload;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.SEND_INDIVIDUAL_MESSAGE,\r\n        requestData\r\n    }\r\n}\r\nexport function getIndividualConversationHistorySucess(data) {\r\n    return {\r\n        type: ACTIONS.GET_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS,\r\n        data\r\n    }\r\n}\r\nexport function individualConversationSentSuccess(data) {\r\n    return {\r\n        type: ACTIONS.SEND_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function sendThreadMessage(payload) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'SEND_THREAD_MESSAGE';\r\n    serviceParams.payload = payload;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.SEND_THREAD_MESSAGE,\r\n        requestData\r\n    }\r\n}\r\n\r\nexport function sendImInvite(payload) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'CREATE_IM';\r\n    serviceParams.payload = payload;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.CREATE_IM,\r\n        requestData\r\n    }\r\n}\r\nexport function createImSucess(data) {\r\n    return {\r\n        type: ACTIONS.CREATE_IM_SUCESS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function sendThreadMessagesSuccess(data) {\r\n    return {\r\n        type: ACTIONS.SEND_THREAD_MESSAGE_SUCESS,\r\n        data\r\n    }\r\n}\r\nexport function getThreadsHistroy(params) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'GET_THREAD_CONVERSATION_HISTORY';\r\n    serviceParams.params = params;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.GET_THREAD_CONVERSATION_HISTORY,\r\n        requestData\r\n    }\r\n}\r\n\r\nexport function getThreadsHistroySuccess(data) {\r\n    return {\r\n        type: ACTIONS.GET_THREAD_CONVERSATION_HISTORY_SUCESS,\r\n        data\r\n    }\r\n}","\r\nimport { ACTIONS } from '../constants/Constants';\r\nimport { constructUrl } from '../services/api';\r\n\r\nexport function getGroupConversationHistory(params) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'GET_GROUP_CONVERSATION';\r\n    serviceParams.params = params;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.GET_GROUP_CONVERSATION_HISTORY,\r\n        requestData\r\n    }\r\n}\r\n\r\nexport function getGroupConversationHistorySucess(data) {\r\n    return {\r\n        type: ACTIONS.GET_GROUP_CONVERSATION_HISTORY_SUCCESS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function createGroup(payload) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'CREATE_GROUP';\r\n    serviceParams.payload = payload;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.CREATE_GROUP,\r\n        requestData\r\n    }\r\n}\r\n\r\nexport function updateGroup(payload) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'UPDATE_GROUP';\r\n    serviceParams.payload = payload;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.UPDATE_GROUP,\r\n        requestData\r\n    }\r\n}\r\n\r\nexport function createGroupSucess(data) {\r\n    return {\r\n        type: ACTIONS.CREATE_GROUP_SUCCESS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function sendGroupMessage(payload) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'SEND_GROUP_MESSAGE';\r\n    serviceParams.payload = payload;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.SEND_GROUP_MESSAGE,\r\n        requestData\r\n    }\r\n}","\r\nimport { ACTIONS } from '../constants/Constants';\r\nimport { constructUrl } from '../services/api';\r\n\r\nexport function initialAction(params) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'GET_INITIAL_DETAILS';\r\n    serviceParams.params = params;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.GET_INITIAL_DATA,\r\n        requestData\r\n    }\r\n}\r\n\r\nexport function initialActionSucess(data) {\r\n    return {\r\n        type: ACTIONS.GET_INITIAL_DATA_SUCESS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function searchUser(params) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'SEARCH_USER';\r\n    serviceParams.params = params;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.SEARCH_USER,\r\n        requestData\r\n    }\r\n}\r\n\r\nexport function getChannelDetails(params) {\r\n    const serviceParams = {};\r\n    serviceParams.apiName = 'GET_CHANNEL_DETAILS';\r\n    serviceParams.params = params;\r\n    const requestData = constructUrl(serviceParams);\r\n    return {\r\n        type: ACTIONS.GET_CHANNEL_DETAILS,\r\n        requestData\r\n    }\r\n}\r\n\r\n\r\nexport function searchUserSucess(data) {\r\n    return {\r\n        type: ACTIONS.SEARCH_USER_SUCESS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function setCurrentModeDetails(data) {\r\n    return {\r\n        type: ACTIONS.SET_CURRENT_MODE_DETAILS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function getChannelDetailSuccess(data) {\r\n    return {\r\n        type: ACTIONS.GET_CHANNEL_DETAILS_SUCESS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function updateUnreadDetails(data) {\r\n    return {\r\n        type: ACTIONS.UPDATE_UNREAD_DETAILS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function pushMessage(data) {\r\n    return {\r\n        type: ACTIONS.PUSH_MESSAGE,\r\n        data\r\n    }\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport SideBarComponent from '../Components/side-bar/side-bar-component';\r\nimport PropTypes from 'prop-types'\r\nimport { getIndividualConversationHistory, sendImInvite, createImSucess } from '../actions/directMessageActions';\r\nimport { getGroupConversationHistory, createGroup, createGroupSucess } from '../actions/groupMessageActions';\r\nimport { setCurrentModeDetails, searchUser, getChannelDetails, updateUnreadDetails, pushMessage } from '../actions/sideBaraction';\r\nimport io from 'socket.io-client';\r\n\r\nclass SideBarContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userDetails: this.props.userDetails,\r\n            userSuggestions: this.props.userSuggestions,\r\n            socket: '',\r\n            selectedMode: '',\r\n            selectedId: '',\r\n            unreadMessage: {}\r\n        }\r\n        this.connectedSockets = []\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.userDetails && newProps.userDetails !== this.props.userDetails) {\r\n            this.setState({ userDetails: newProps.userDetails, socket: this.connectUser('User/' + newProps.userDetails.user_id) });\r\n        }\r\n        if (newProps.groups && newProps.groups !== this.props.groups) {\r\n            this.createInitialConnection(newProps.groups, null);\r\n        }\r\n        if (newProps.directMessage && newProps.directMessage !== this.props.directMessage) {\r\n            this.createInitialConnection(null, newProps.directMessage, newProps.userDetails.user_id || this.props.userDetails.user_id);\r\n        }\r\n        if (newProps.userSuggestions && this.props.userSuggestions !== newProps.userSuggestions) {\r\n            this.setState({ userSuggestions: newProps.userSuggestions })\r\n        }\r\n        if (newProps.selectedId !== this.props.selectedId || newProps.selectedMode !== this.props.selectedMode) {\r\n            this.setState({ selectedMode: newProps.selectedMode, selectedId: newProps.selectedId })\r\n        }\r\n        if (newProps.unreadMessage !== this.state.unreadMessage) {\r\n            this.setState({ unreadMessage: newProps.unreadMessage });\r\n        }\r\n    }\r\n\r\n    listenMessageVal = (conn) => {\r\n        conn.on('emit message', (msgDetails) => {\r\n            // this.setState({ conversations: this.state.conversations.concat(msg) })\r\n            if (Number(msgDetails.fromUser) !== this.state.userDetails.user_id && ((this.state.selectedMode === 'Groups' && (this.state.selectedMode + this.state.selectedId) !== (msgDetails.type + msgDetails.id))\r\n                || (this.state.selectedMode !== 'Groups' && (this.state.userDetails.user_id < this.state.selectedId ? (this.state.userDetails.user_id + ':' + this.state.selectedId) : (this.state.selectedId + ':' + this.state.userDetails.user_id)) !== msgDetails.id))) {\r\n                this.props.dispatch(updateUnreadDetails({ id: msgDetails.type !== 'Groups' ? msgDetails.fromUser : msgDetails.id, mode: msgDetails.type }))\r\n            } else if (Number(msgDetails.fromUser) !== this.state.userDetails.user_id) {\r\n                this.props.dispatch(pushMessage(msgDetails));\r\n            }\r\n        });\r\n\r\n    }\r\n    createInitialConnection = (groups, directMessage, currentUserId) => {\r\n        if (groups) {\r\n            groups.forEach(group => {\r\n                if (!this.connectedSockets.includes('Groups/' + group.group_id)) {\r\n                    this.connectedSockets.push('Groups/' + group.group_id);\r\n                    this.connect('Groups/' + group.group_id)\r\n                }\r\n            });\r\n        }\r\n        if (directMessage) {\r\n            directMessage.forEach(user => {\r\n                const nameSpaceID = 'Im' + '/' + (currentUserId < user.user_id ? (currentUserId + ':' + user.user_id) : (user.user_id + ':' + currentUserId));\r\n                if (!this.connectedSockets.includes(nameSpaceID)) {\r\n                    this.connectedSockets.push(nameSpaceID);\r\n                    this.connect(nameSpaceID)\r\n                }\r\n            });\r\n        }\r\n    }\r\n    connect = (nameSpaceID) => {\r\n        const conn = io.connect('http://localhost:3002/' + nameSpaceID);\r\n        this.listenMessageVal(conn);\r\n        return conn;\r\n    }\r\n\r\n\r\n    listenVal = (conn) => {\r\n        conn.on('Update New Group', (group) => {\r\n            if (Number(group.created_by) !== this.state.userDetails.user_id) {\r\n                this.props.dispatch(createGroupSucess(group));\r\n            }\r\n        });\r\n\r\n        conn.on('Update New Im', (im) => {\r\n            this.props.dispatch(createImSucess(im));\r\n        });\r\n\r\n    }\r\n    connectUser = (nameSpaceID) => {\r\n        const conn = io.connect('http://localhost:3002/' + nameSpaceID);\r\n        this.listenVal(conn);\r\n        return conn;\r\n    }\r\n\r\n    getConversationHistory = (id, type) => {\r\n        this.props.dispatch(getChannelDetails({ type, id }));\r\n        this.props.dispatch(type === 'Groups' ? getGroupConversationHistory({ id }) : getIndividualConversationHistory({ fromUser: this.state.userDetails.user_id, toUser: id }));\r\n        this.props.dispatch(setCurrentModeDetails({ id, type }));\r\n    }\r\n\r\n    createGroup = (groupDetails) => {\r\n        const groupPayload = {\r\n            groupName: groupDetails.groupName,\r\n            members: groupDetails.members.concat(Number(this.props.currentUserId)),\r\n            time: parseInt((new Date().getTime() / 1000).toFixed(0)),\r\n            createdBy: this.props.currentUserId\r\n        };\r\n        this.props.dispatch(createGroup(groupPayload));\r\n    }\r\n    getUser = (searchString) => {\r\n        this.props.dispatch(searchUser({ searchString }));\r\n    }\r\n\r\n    sendInvite = (inviteDetails) => {\r\n        const imPayload = {\r\n            toUser: inviteDetails.toUser,\r\n            time: parseInt((new Date().getTime() / 1000).toFixed(0)),\r\n            fromUser: this.props.currentUserId\r\n        };\r\n        this.props.dispatch(sendImInvite(imPayload));\r\n        imPayload['userName'] = this.props.userDetails['user_name'];\r\n        // this.state.socket.emit('Update New Im', imPayload);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <SideBarComponent\r\n                userDetails={this.state.userDetails}\r\n                groups={this.props.groups}\r\n                directMessage={this.props.directMessage}\r\n                threads={this.state.threads}\r\n                getConversationHistory={this.getConversationHistory}\r\n                createGroup={this.createGroup}\r\n                sendInvite={this.sendInvite}\r\n                getUser={this.getUser}\r\n                userSuggestions={this.state.userSuggestions}\r\n                unreadMessage={this.props.unreadMessage}\r\n            />\r\n        );\r\n    }\r\n}\r\nSideBarContainer.propTypes = {\r\n    dispatch: PropTypes.func.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        userDetails: state.userDetails,\r\n        groups: state.groups,\r\n        directMessage: state.directMessage,\r\n        threads: state.threads,\r\n        currentUserId: state.currentUserId,\r\n        userSuggestions: state.userSuggestions,\r\n        selectedId: state.selectedId,\r\n        selectedMode: state.selectedMode,\r\n        unreadMessage: state.unreadMessage\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SideBarContainer);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport './details-bar-componet.scss';\r\nimport CommonPopUpComponent from '../../common-popup/common-popup-component';\r\n\r\nexport default class DetailsBarComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            channelDetails: {},\r\n            userSuggestions: []\r\n        }\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.channelDetails) {\r\n            this.setState({ channelDetails: newProps.channelDetails, addUser: newProps.addUser })\r\n            console.log(newProps.addUser);\r\n        }\r\n        if(newProps.userSuggestions && newProps.userSuggestions !== this.userSuggestions) {\r\n            this.setState({userSuggestions: newProps.userSuggestions});\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const channelDetails = this.state.channelDetails;\r\n        return (\r\n            <div className=\"details-bar\">\r\n                <div className=\"message-area-details\">\r\n                    <div className=\"message-area-title\">\r\n                        {channelDetails && channelDetails.type === 'Groups' ? ('#' + channelDetails.group_name) : channelDetails.user_name}\r\n                    </div>\r\n                    {\r\n                        channelDetails && channelDetails.type === 'Groups' ? <div className=\"message-area-content\">\r\n                            <span className=\"content\"><i className=\"far fa-star\"></i></span>\r\n                            <span className=\"content\"><i className=\"far fa-user\"></i> {channelDetails.members.length}</span>\r\n                        </div> : ''\r\n                    }\r\n                </div>\r\n                <div className=\"search-area-details\">\r\n                    <div className=\"search-container\">\r\n                        <i className=\"fas fa-search\"></i>\r\n\r\n                        <input type=\"text\" placeholder=\"Search...\" />\r\n                    </div>\r\n                    <CommonPopUpComponent addUser={this.state.addUser} getUser={this.props.getUser} userSuggestions={this.state.userSuggestions} groupName={channelDetails.group_name}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDetailsBarComponent.propTypes = {\r\n    channelDetails: PropTypes.any,\r\n    getUser: PropTypes.func,\r\n    userSuggestions: PropTypes.array,\r\n    addUser: PropTypes.func\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport './message-content-component.scss';\r\nimport displayImage from '../../../Utils/user-1.png'\r\nexport default class MessageContentComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            conversations: []\r\n        }\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.setState({ conversations: newProps.conversations });\r\n    }\r\n    createThread = (message) => {\r\n        this.props.openThreadWindow(message)\r\n    }\r\n\r\n    generateMessageContent = (messages) => {\r\n        let lastDate = ''\r\n        return messages ? messages.map(message => {\r\n            const currentMessageDate = new Date(message.time * 1000).toLocaleDateString(\"en-US\");\r\n            const displayDate = lastDate !== currentMessageDate ? true : false;\r\n            lastDate = displayDate ? currentMessageDate : lastDate;\r\n            return <div>\r\n                {displayDate ? <div className=\"display-date\">\r\n                    <div className=\"date-border\"></div>\r\n                    <span>{currentMessageDate}</span>\r\n                </div> : ''}\r\n                <div className=\"message-content-holder\">\r\n\r\n                    <div className=\"profile-img-holder\">\r\n                        <img src={displayImage} />\r\n                    </div>\r\n                    <div className=\"message-content\">\r\n                        <span className=\"user-name\">{message.userName || message.user_name}</span>\r\n                        <span>{new Date(message.time * 1000).toLocaleTimeString(\"en-US\")} </span>\r\n                        {this.props.isTread ? '' : <i class=\"far fa-comment-dots reply\" onClick={() => this.createThread(message)}></i>}\r\n                        <p className=\"message\">{message.message} </p>\r\n                    </div>\r\n\r\n                </div>\r\n                {message.threads_count > 0 ? <div>{message.threads_count} Relpies</div> : ''}\r\n            </div >\r\n\r\n        }) : '';\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"external-holder\">\r\n                {this.generateMessageContent(this.state.conversations)}\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nMessageContentComponent.propTypes = {\r\n    conversations: PropTypes.any,\r\n    openThreadWindow: PropTypes.func,\r\n    isTread: PropTypes.any\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport './message-area-component.scss';\r\nimport DetailsBarComponent from './details-bar/details-bar-componet';\r\nimport MessageContentComponent from './message-content/message-content-component';\r\n\r\nexport default class MessageAreaComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            conversations: [],\r\n            userSuggestions: [],\r\n            messageWindowWidth: '87%',\r\n            threadDetails: null,\r\n            threads: []\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.conversations) {\r\n            this.setState({ conversations: newProps.conversations });\r\n        }\r\n        if (newProps.userSuggestions && newProps.userSuggestions !== this.userSuggestions) {\r\n            this.setState({ userSuggestions: newProps.userSuggestions });\r\n        }\r\n        if (newProps.threads && this.props.threads !== newProps.threads) {\r\n            this.setState({ threads: newProps.threads })\r\n        }\r\n    }\r\n    sendMessage = (event) => {\r\n        if (event.key === 'Enter') {\r\n            this.props.sendMessage(event.target.value);\r\n            event.target.value = ''\r\n        }\r\n    }\r\n\r\n    openThreadWindow = (message) => {\r\n        this.props.getThreadsHistroy(message);\r\n        this.setState({ messageWindowWidth: '65%', threadDetails: message });\r\n       \r\n    }\r\n\r\n    sendThreadMessage = (event) => {\r\n        if (event.key === 'Enter') {\r\n            this.props.sendMessage(event.target.value, this.state.threadDetails);\r\n            event.target.value = ''\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.props.channelDetails ?\r\n                <div className=\"message-area\">\r\n                    <DetailsBarComponent channelDetails={this.props.channelDetails} getUser={this.props.getUser} userSuggestions={this.state.userSuggestions} addUser={this.props.addUser} />\r\n\r\n                    <div className=\"message-display-area\" style={{ width: this.state.messageWindowWidth }}>\r\n                        <MessageContentComponent conversations={this.state.conversations} openThreadWindow={this.openThreadWindow} />\r\n                    </div>\r\n                    <div className=\"message-entry-area\" style={{ width: this.state.messageWindowWidth }}>\r\n                        <input placeholder=\"Enter Messge here\" onKeyDown={this.sendMessage} />\r\n                    </div>\r\n                    {\r\n                        this.state.messageWindowWidth === '65%' ? <div class=\"thread-area\">\r\n                            <div className=\"thread-header\">\r\n                                <span>Threads</span>\r\n                                <p>{this.state.threadDetails.userName}</p>\r\n                                <i class=\"fas fa-times\" onClick={() => this.setState({ messageWindowWidth: '87%' })}></i>\r\n                            </div>\r\n                            <div className=\"threads-message-holder\">\r\n                                <MessageContentComponent conversations={this.state.threads} isTread={true}/>\r\n                            </div>\r\n                            <div className=\"thread-entry-area\" >\r\n                                <input placeholder=\"Enter Messge here\" onKeyDown={this.sendThreadMessage} />\r\n                            </div>\r\n                        </div> : ''\r\n                    }\r\n\r\n                </div> : ''\r\n        );\r\n    }\r\n}\r\n\r\nMessageAreaComponent.propTypes = {\r\n    conversations: PropTypes.array,\r\n    sendMessage: PropTypes.func,\r\n    details: PropTypes.any,\r\n    channelDetails: PropTypes.any,\r\n    getUser: PropTypes.func,\r\n    userSuggestions: PropTypes.any,\r\n    addUser: PropTypes.func,\r\n    threads: PropTypes.any,\r\n    getThreadsHistroy: PropTypes.func\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport MessageAreaComponent from '../Components/message-area/message-area-component';\r\nimport PropTypes from 'prop-types';\r\nimport { sendIndividualMessage, sendThreadMessage, getThreadsHistroy } from '../actions/directMessageActions';\r\nimport { sendGroupMessage, updateGroup } from '../actions/groupMessageActions';\r\nimport io from 'socket.io-client';\r\nimport { searchUser } from '../actions/sideBaraction';\r\n\r\nclass MessageAreaContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            conversations: [],\r\n            currentUserId: null,\r\n            selectedId: null,\r\n            selectedMode: null,\r\n            socket: '',\r\n            userSuggestions: []\r\n        }\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.conversations && this.props.conversations !== newProps.conversations) {\r\n            this.setState({ conversations: newProps.conversations })\r\n        }\r\n        if (newProps.currentUserId) {\r\n            this.setState({ currentUserId: newProps.currentUserId })\r\n        }\r\n        if (newProps.selectedId && this.props.selectedId !== newProps.selectedId) {\r\n            this.setState({ selectedId: newProps.selectedId, selectedMode: newProps.selectedMode, socket: this.connect(newProps.selectedMode, newProps.selectedId) })\r\n        }\r\n        if (newProps.userSuggestions && this.props.userSuggestions !== newProps.userSuggestions) {\r\n            this.setState({ userSuggestions: newProps.userSuggestions })\r\n        }\r\n        if (newProps.threads && this.props.threads !== newProps.threads) {\r\n            this.setState({ threads: newProps.threads })\r\n        }\r\n    }\r\n\r\n    connect = (selectedMode, selectedId) => {\r\n        let nameSpaceID = ''\r\n        if (selectedMode === 'Groups') {\r\n            nameSpaceID = selectedMode + '/' + selectedId\r\n        } else {\r\n            nameSpaceID = 'Im' + '/' + (this.state.currentUserId < selectedId ? (this.state.currentUserId + ':' + selectedId) : (selectedId + ':' + this.state.currentUserId))\r\n        }\r\n        const conn = io.connect('http://localhost:3002/' + nameSpaceID);\r\n        return conn;\r\n    }\r\n    sendMessage = (message, thread) => {\r\n        if (thread) {\r\n            const params = {\r\n                id: thread.chat_id,\r\n                time: parseInt((new Date().getTime() / 1000).toFixed(0)),\r\n                fromUser: Number(this.state.currentUserId),\r\n                message: message,\r\n                userName: this.props.userDetails['user_name'],\r\n                chat_type: this.state.selectedMode !== 'Groups' ? 'Im' : 'Groups',\r\n                users_id: thread.users_id,\r\n                group_id: thread.group_id\r\n            }\r\n            this.props.dispatch(sendThreadMessage(params));\r\n        } else {\r\n            const params = {\r\n                type: this.state.selectedMode,\r\n                id: this.state.selectedId,\r\n                time: parseInt((new Date().getTime() / 1000).toFixed(0)),\r\n                fromUser: this.state.currentUserId,\r\n                message: message\r\n            }\r\n            if (this.state.selectedMode !== 'Groups') {\r\n                params.id = this.state.currentUserId < this.state.selectedId ? this.state.currentUserId + ':' + this.state.selectedId : this.state.selectedId + ':' + this.state.currentUserId;\r\n            }\r\n            this.props.dispatch(this.state.selectedMode === 'Groups' ? sendGroupMessage(params) : sendIndividualMessage(params));\r\n            params['userName'] = this.props.userDetails['user_name'];\r\n            this.state.socket.emit('receive message', params);\r\n        }\r\n    }\r\n    getUser = (searchString) => {\r\n        this.props.dispatch(searchUser({ searchString }));\r\n    }\r\n    addUser = (members, groupName) => {\r\n        this.props.dispatch(updateGroup({ id: this.state.selectedId, members, groupName }))\r\n    }\r\n    getThreadsHistroy = (message) => {\r\n        console.log(message);\r\n        const payloadData = { chat_id: message.chat_id, chat_type: (this.state.selectedMode !== 'Groups' ? 'Im' : 'Groups') }\r\n        if(message.group_id) {\r\n            payloadData['group_id'] = message.group_id;\r\n        } else {\r\n            payloadData['users_id'] = message.users_id;\r\n        }   \r\n        this.props.dispatch(getThreadsHistroy(payloadData));\r\n    }\r\n    render() {\r\n        return (\r\n            <MessageAreaComponent\r\n                conversations={this.state.conversations}\r\n                sendMessage={this.sendMessage}\r\n                channelDetails={this.props.channelDetails}\r\n                getUser={this.getUser}\r\n                userSuggestions={this.state.userSuggestions}\r\n                addUser={this.addUser}\r\n                threads={this.state.threads}\r\n                getThreadsHistroy={this.getThreadsHistroy}\r\n            />\r\n        );\r\n    }\r\n\r\n\r\n}\r\nMessageAreaContainer.propTypes = {\r\n    dispatch: PropTypes.func.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        conversations: state.conversations,\r\n        threads: state.threads,\r\n        currentUserId: state.currentUserId,\r\n        selectedId: state.selectedId,\r\n        selectedMode: state.selectedMode,\r\n        userDetails: state.userDetails,\r\n        channelDetails: state.channelDetails,\r\n        userSuggestions: state.userSuggestions,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(MessageAreaContainer);\r\n","import React from 'react';\r\nimport { connect, Provider } from 'react-redux';\r\nimport SideBarContainer from './side-bar-container'\r\nimport MessageAreaContainer from './message-area-container';\r\nimport PropTypes from 'prop-types'\r\nimport './index.scss';\r\nimport { initialAction } from '../actions/sideBaraction'\r\nimport { stat } from 'fs';\r\n\r\nclass WrapperContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userDetails: {}\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.props.dispatch(initialAction({ userId: this.props.currentUserId }));\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"wrapper\">\r\n                <div className=\"side-bar\">\r\n                    <SideBarContainer/>\r\n                </div>\r\n                <div className=\"main-area\">\r\n                    <MessageAreaContainer />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nWrapperContainer.propTypes = {\r\n    dispatch: PropTypes.func.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currentUserId: state.currentUserId\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(WrapperContainer);\r\n","import React from 'react';\nimport WrapperContainer from './Containers/index';\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n        <WrapperContainer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport './authentication-component.scss';\r\n\r\nexport default class AuthenticationComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userId: null\r\n        }\r\n    }\r\n    storeUserId = (event) => {\r\n        this.setState({userId: event.target.value});\r\n    }\r\n    login = () => {\r\n        this.props.login(this.state.userId);\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"authentication\">\r\n                <div class=\"authentication-form-login\">\r\n                    <h3>Login</h3>\r\n                    <div className=\"input-holder\">\r\n                        <label>User Id</label>\r\n                        <input  type=\"text\" placeholder=\"User Id\" onChange={this.storeUserId}/>\r\n                    </div>\r\n                    <div className=\"input-holder\">\r\n                        <label>Password</label>\r\n                        <input type=\"password\" placeholder=\"Password\" />\r\n                    </div>\r\n                    <div class=\"remember-me\">\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"button-holder\">\r\n                            <button type=\"button\" class=\"btn custom-btn center-block\" onClick={this.login}>Login</button>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <a href=\"https://www.freepik.com/free-photos-vectors/background\">Background vector created by designertale - www.freepik.com</a>\r\n                <a href=\"https://www.freepik.com/free-photos-vectors/business\">Business photo created by freepik - www.freepik.com</a>\r\n            </div >\r\n\r\n        );\r\n    }\r\n}\r\n\r\nAuthenticationComponent.propTypes = {\r\n    login: PropTypes.func\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport AuthenticationComponent from '../Components/authentication/authentication-component';\r\nimport PropTypes from 'prop-types'\r\nimport {setCurrentUser} from '../actions/loginAction';\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nclass AuthemnticationContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userDetails: {}\r\n        }\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        console.log(newProps)\r\n        if (newProps.currentUserId) {\r\n            this.props.history.push(\"/message\")\r\n        }\r\n    }\r\n    checkLogin = (id) => {\r\n        this.props.dispatch(setCurrentUser({id}));\r\n    }\r\n    render() {\r\n        return (\r\n            <AuthenticationComponent login={this.checkLogin}/>\r\n        );\r\n    }\r\n}\r\nAuthemnticationContainer.propTypes = {\r\n    dispatch: PropTypes.func.isRequired,\r\n    userDetails: PropTypes.any\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currentUserId: state.currentUserId,\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(AuthemnticationContainer));\r\n","\r\nimport { ACTIONS } from '../constants/Constants';\r\nimport { constructUrl } from '../services/api';\r\n\r\nexport function setCurrentUser(data) {\r\n    return {\r\n        type: ACTIONS.SET_CURRENT_USER,\r\n        data\r\n    }\r\n}\r\n","import { ACTIONS } from '../constants/Constants';\r\n\r\nconst intialState = {\r\n    userDetails: {},\r\n    groups: [],\r\n    directMessage: [],\r\n    threads: [],\r\n    conversations: [],\r\n    currentUserId: null,\r\n    selectedId: null,\r\n    selectedMode: null,\r\n    userSuggestions: [],\r\n    channelDetails: '',\r\n    unreadMessage: {}\r\n};\r\n\r\nfunction Reducer(state = intialState, action) {\r\n\r\n    switch (action.type) {\r\n        case ACTIONS.GET_INITIAL_DATA_SUCESS:\r\n            const responseData = action.data;\r\n            return Object.assign({}, state, { userDetails: responseData, groups: responseData.groups || [], directMessage: responseData.im_users || [], threads: responseData.threads || [] });\r\n        case ACTIONS.GET_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS:\r\n            return Object.assign({}, state, { conversations: action.data });\r\n        case ACTIONS.SET_CURRENT_MODE_DETAILS:\r\n            const clearUnreadMessageId = (action.data.type !== 'Groups' ? 'Im' : 'Groups') + action.data.id;\r\n            const stateUnreadMessage = Object.assign({}, state.unreadMessage);\r\n            stateUnreadMessage[clearUnreadMessageId] = 0;\r\n            return Object.assign({}, state, { selectedId: action.data.id, selectedMode: action.data.type, unreadMessage: stateUnreadMessage });\r\n        case ACTIONS.SEND_INDIVIDUAL_CONVERSATION_HISTORY_SUCESS:\r\n            return Object.assign({}, state, { conversations: state.conversations.concat(action.data) });\r\n        case ACTIONS.SET_CURRENT_USER:\r\n            return Object.assign({}, state, { currentUserId: action.data.id });\r\n        case ACTIONS.CREATE_GROUP_SUCCESS:\r\n            return Object.assign({}, state, { groups: state.groups.concat(action.data) });\r\n        case ACTIONS.CREATE_IM_SUCESS:\r\n            return Object.assign({}, state, { directMessage: state.directMessage.concat(action.data) });\r\n        case ACTIONS.SEARCH_USER_SUCESS:\r\n            return Object.assign({}, state, { userSuggestions: action.data });\r\n        case ACTIONS.GET_CHANNEL_DETAILS_SUCESS:\r\n            return Object.assign({}, state, { channelDetails: action.data });\r\n        case ACTIONS.UPDATE_UNREAD_DETAILS:\r\n            const unreadMessageId = (action.data.mode !== 'Groups' ? 'Im' : 'Groups') + action.data.id;\r\n            const unreadMessage = Object.assign({}, state.unreadMessage);\r\n            unreadMessage[unreadMessageId] = state.unreadMessage[unreadMessageId] ? state.unreadMessage[unreadMessageId] + 1 : 1;\r\n            return Object.assign({}, state, { unreadMessage: unreadMessage });\r\n        case ACTIONS.PUSH_MESSAGE:\r\n            return Object.assign({}, state, { conversations: state.conversations.concat(action.data) });\r\n        case ACTIONS.SEND_THREAD_MESSAGE_SUCESS:\r\n            return Object.assign({}, state, { threads: state.threads.concat(action.data) });\r\n        case ACTIONS.GET_THREAD_CONVERSATION_HISTORY_SUCESS:\r\n            return Object.assign({}, state, { threads: action.data });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default Reducer; ","import { ACTIONS } from '../constants/Constants';\r\nimport { triggerApi } from '../services/api';\r\nimport { call, put, fork, takeLatest } from 'redux-saga/effects';\r\nimport { initialActionSucess, searchUserSucess, getChannelDetailSuccess } from '../actions/sideBaraction';\r\nimport { getIndividualConversationHistorySucess, individualConversationSentSuccess, createImSucess, sendThreadMessagesSuccess, getThreadsHistroySuccess } from '../actions/directMessageActions';\r\nimport { createGroupSucess } from '../actions/groupMessageActions';\r\n\r\nfunction* defaultSaga() {\r\n    //\r\n}\r\n\r\nfunction* fetchInitialUserDetails(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n        if (resultData) {\r\n            yield put(initialActionSucess(resultData))\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* fetchConversationHistory(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n        if (resultData) {\r\n            yield put(getIndividualConversationHistorySucess(resultData))\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nfunction* sendIMMessage(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n        if (resultData) {\r\n            yield put(individualConversationSentSuccess(resultData))\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* createNewGroup(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n        if (resultData) {\r\n            yield put(createGroupSucess(resultData))\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* createNewIm(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n        if (resultData) {\r\n            yield put(createImSucess(resultData))\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* searchUserFromDB(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n        if (resultData) {\r\n            yield put(searchUserSucess(resultData))\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* getChannelDetail(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n        if (resultData) {\r\n            yield put(getChannelDetailSuccess(resultData))\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nfunction* updateGroupMembers(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* sendThreadMessages(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n        if (resultData) {\r\n            yield put(sendThreadMessagesSuccess(resultData))\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* getThreadHistoryData(data) {\r\n    try {\r\n        const resultData = yield call(triggerApi, data);\r\n        if (resultData) {\r\n            yield put(getThreadsHistroySuccess(resultData))\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* getInitialUserDetails() {\r\n    yield takeLatest(ACTIONS.GET_INITIAL_DATA, fetchInitialUserDetails);\r\n}\r\n\r\nfunction* getDirectMessageConversationSaga() {\r\n    yield takeLatest(ACTIONS.GET_INDIVIDUAL_CONVERSATION_HISTORY, fetchConversationHistory);\r\n}\r\n\r\nfunction* getGroupMessageConversationSaga() {\r\n    yield takeLatest(ACTIONS.GET_GROUP_CONVERSATION_HISTORY, fetchConversationHistory);\r\n}\r\n\r\nfunction* sendMessage() {\r\n    yield takeLatest(ACTIONS.SEND_INDIVIDUAL_MESSAGE, sendIMMessage);\r\n}\r\n\r\nfunction* sendGroupMessage() {\r\n    yield takeLatest(ACTIONS.SEND_GROUP_MESSAGE, sendIMMessage);\r\n}\r\n\r\nfunction* createGroup() {\r\n    yield takeLatest(ACTIONS.CREATE_GROUP, createNewGroup);\r\n}\r\n\r\nfunction* createIm() {\r\n    yield takeLatest(ACTIONS.CREATE_IM, createNewIm);\r\n}\r\n\r\nfunction* searchUser() {\r\n    yield takeLatest(ACTIONS.SEARCH_USER, searchUserFromDB);\r\n}\r\n\r\nfunction* getChannelDetails() {\r\n    yield takeLatest(ACTIONS.GET_CHANNEL_DETAILS, getChannelDetail);\r\n}\r\n\r\nfunction* updateGroup() {\r\n    yield takeLatest(ACTIONS.UPDATE_GROUP, updateGroupMembers);\r\n}\r\n\r\nfunction* sendThreadMessage() {\r\n    yield takeLatest(ACTIONS.SEND_THREAD_MESSAGE, sendThreadMessages);\r\n}\r\n\r\nfunction* getThreadHistory() {\r\n    yield takeLatest(ACTIONS.GET_THREAD_CONVERSATION_HISTORY, getThreadHistoryData);\r\n}\r\n\r\n\r\nexport default function* initialDetailsSaga() {\r\n    yield fork(getInitialUserDetails);\r\n    yield fork(getDirectMessageConversationSaga);\r\n    yield fork(getGroupMessageConversationSaga);\r\n    yield fork(sendMessage);\r\n    yield fork(createGroup);\r\n    yield fork(sendGroupMessage);\r\n    yield fork(createIm);\r\n    yield fork(searchUser);\r\n    yield fork(getChannelDetails);\r\n    yield fork(updateGroup);\r\n    yield fork(sendThreadMessage);\r\n    yield fork(getThreadHistory);\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport login from './Containers/login-container';\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { configureStore } from './store/configureStore';\n\nconst store = configureStore();\n// import * as serviceWorker from './serviceWorker';\nconst routing = (\n    <Provider store={store}>\n        <Router>\n            <Switch>\n                <Route exact path=\"/\" component={login} />\n                <Route path=\"/message\" component={App} />\n                {/* <Route component={Notfound} /> */}\n            </Switch>\n        </Router>\n    </Provider>\n)\nReactDOM.render(routing, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","import { createStore, applyMiddleware } from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\n\r\nimport reducer from '../reducers/Reducer'\r\nimport mySaga from '../sagas/commonsaga'\r\n\r\nexport function configureStore(initialState = {}) {\r\n    // create the saga middleware\r\n    const sagaMiddleware = createSagaMiddleware()\r\n    // mount it on the Store\r\n    const store = createStore(\r\n        reducer,\r\n        applyMiddleware(sagaMiddleware)\r\n    )\r\n\r\n    // then run the saga\r\n    sagaMiddleware.run(mySaga)\r\n    return store;\r\n}\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAArlBMVEUrrHaFzq/5+fnG5tmn2sWR07eGzrB8yqmHz7F1x6WP0rV0x6SW1Lqi2cK44M/Q6t/q8+9It4l9y6q13843sH7z9/XO6d1hwJjE5dhlwpswrnnc7ueU07lqxJ5OuYzw9vM7soDe7+gvrXgzr3u24M5DtYXS6+BavZTm8u13yKf09/ZBtIS14M40r3uL0LM5sX+Q0rYvrXnA5NXx9vTU7OK/49TB5NXl8vbn8/ZEvt988mh+AAAAvUlEQVR4Ae3M1UEDURSGwcuP++K2gsMqEu+/sbzG9YufKWBcP1tqt+1GNSTaoaJdKtqjov1JowO1O5w0OlK740mjEyo6paIzKjqnIg+KLgRFl1R0BUXXN1C0Lyi6haI7QdE9FD2IiR6foMgXEwViojBioucXIdHrtpDo7V1I9PEpJPr6FhLFiYgozSQgyotIQPTz60lTR39BlkhTR8V/SRIQaUTlykBVJ8iqRRZZZFGNUXcNyMwjiyyyyCKLmut8a+hc1LxTAAAAAElFTkSuQmCC\""],"sourceRoot":""}